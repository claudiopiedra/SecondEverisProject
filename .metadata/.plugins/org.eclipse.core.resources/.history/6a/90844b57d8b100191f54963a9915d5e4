<?xml version="1.0" encoding="UTF-8"?>
<configuration scan="true" scanPeriod="30 seconds">
	
	 <property name="contextName" value="bonus-services"/>
    <!--
        The directory that the log files will be created in.  If the directory does not exist, Logback will give an
        error.  Logback will continue to log to the console, but there will be no log created.  Some developers will
        prefer this way so that they can see the files in the console, but don't have to worry about them on their local
        machines.
 
        To create a symbolic link (/opt/tomcat) to your actual tomcat installation:
        sudo ln -s ~/apache-tomcat-8.0.28 /opt/tomcat
    -->
    <property name="loggingDir" value="/opt/tomcat/logs"/>
    <property name="encoderPattern"
              value="%d{HH:mm:ss.SSS}|%-5level|${HOSTNAME}|${contextName}|%msg ||%class:%line %xException{full} %n"/>
 
 
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <!-- encoders are assigned the type ch.qos.logback.classic.encoder.PatternLayoutEncoder by default -->
        <encoder>
            <pattern>${encoderPattern}</pattern>
        </encoder>
    </appender>
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <file>${loggingDir}/${contextName}.log</file>
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <!-- daily rollover -->
            <fileNamePattern>${contextName}.%d{yyyy-MM-dd}.log</fileNamePattern>
 
            <!-- keep 30 days' worth of history -->
            <maxHistory>30</maxHistory>
        </rollingPolicy>
 
        <encoder>
            <pattern>${encoderPattern}</pattern>
        </encoder>
    </appender>
	

	<appender name="STDOUT"
		class="ch.qos.logback.core.ConsoleAppender">
		<encoder>
			<!-- Acepta caracteres latinos -->
			<charset>UTF-8</charset>
			dia/mes/año - 24H:minuto:segundo | Nivel | RutaClase.Clase:Linea 
<!-- 				- Mensaje+SaltoLinea -->
			<pattern>%d{dd/MM/yyyy - HH:mm:ss} | %-5level | [%c].%M:%line - %m%n
			</pattern>
		</encoder>
	</appender>
	<appender name="FILE" class="ch.qos.logback.core.FileAppender">
		<!-- Ruta y Nombre del archivo -->
		<file>everis.log</file>
		<encoder>
			<!-- Acepta caracteres latinos -->
			<charset>UTF-8</charset>
			dia/mes/año - 24H:minuto:segundo | Nivel | RutaClase.Clase:Linea 
<!-- 				- Mensaje+SaltoLinea -->
			<pattern>%d{dd/MM/yyyy - HH:mm:ss} | %-5level | [%c].%M:%line - %m%n
			</pattern>
		</encoder>
	</appender>
	<root level="debug">
		<appender-ref ref="STDOUT" />
	</root>
	<!-- Solo acepta info -->
	<!-- <logger name="com.everis.project" additivity="false" level="info"> -->
	<!-- Acepta todos -->
	<logger name="com.everis.project" additivity="false">
		<appender-ref ref="FILE" />
	</logger>
	
</configuration>